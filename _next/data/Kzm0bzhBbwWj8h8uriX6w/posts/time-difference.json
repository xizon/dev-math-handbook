{"pageProps":{"currentData":{"slug":"time-difference","title":"时间差","scope":"<div><div>时间，是一个很奇特的事物。制作动画、写一个缓动函数、推算日期、制定策略、时间复杂度计算、不同地区的时区等等，都会用到时间差的计算。</div></div>","formula":"1 天 = 24 小时\n1 小时 = 60 分钟\n1 分钟 = 60 秒\n1 秒 = 1000毫秒\n\n16:00 = 4:00 P.M. (16 – 12 = 4)\n17:20 = 5:20 P.M. (17 – 12 = 5)\n\n00:00 或 24:00 表示为午夜 12 点\n12:00 表示为中午 12 点\n\n12:30 = 12:30 P.M.\n00:25 = 12:25 A.M\n","preview":"","solution":{"javascript":{"code":"\n/* 开始时间 */\nconst start = '2022/09/13 00:00:00';\n\n/* 结束时间 */\nconst now = new Date();    \n\n/* 时间差的毫秒数 */\nconst diff = now.getTime() - new Date(start).getTime();  \n\n/* 输出：Fri Sep 16 2022 12:30:53 GMT+0800 (China Standard Time) */\nconsole.log(now); \n\n/* 输出：Fri, 16 Sep 2022 04:30:53 GMT */\nconsole.log(now.toUTCString());\n\n/* 输出：1663302653363 */\nconsole.log(now.getTime()); \n\n/* 输出：1663302653363 */\nconsole.log(Date.now());\n\n\n/* 相差天数的计算方法（1） */\n/* Math.floor下舍入，Math.ceil上舍入 */\n/* ------------------------ */\nconst days = Math.floor(diff/(24*3600*1000));\n\n/* 计算天数后剩余的毫秒数 */\nconst leave1 = diff % (24*3600*1000);\nconst hh_c = Math.floor(leave1/(3600*1000));\n\n/* 计算小时数后剩余的毫秒数 */\nconst leave2 = leave1 % (3600*1000);\nconst mm_c = Math.floor(leave2/(60*1000));\n\n/* 计算分钟数后剩余的毫秒数 */\nconst leave3 = leave2 % (60*1000); \nconst ss_c = Math.round(leave3/1000);\n\n/* 输出：相差3天12小时33分钟54秒 */\nconsole.log(`相差${days}天${hh_c}小时${mm_c}分钟${ss_c}秒`);\n\n\n\n/* 相差天数的计算方法（2） */\n/* ------------------------ */\nlet msec = diff;\n\nconst hh = Math.floor(msec / 1000 / 60 / 60);\nmsec -= hh * 1000 * 60 * 60;\n\nconst mm = Math.floor(msec / 1000 / 60);\nmsec -= mm * 1000 * 60;\n\nconst ss = Math.floor(msec / 1000);\nmsec -= ss * 1000;\n\n\n/* 输出：相差84小时33分钟54秒  (84小时相当于3.5天) */\nconsole.log(`相差${hh}小时${mm}分钟${ss}秒`);\n\n\n\n\n/**\n * 格式化时间为AM/PM格式\n * @param {DateString} date - 输入一个时间戳字符串\n * @returns {String} 返回一个时间字符串\n */\nfunction timeToAMPM(date) {\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    const ampm = hours &gt;= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12;\n    minutes = minutes &lt; 10 ? '0' + minutes : minutes;\n    const strTime = hours + ':' + minutes + ' ' + ampm;\n    return strTime;\n}\n\n\nexport { timeToAMPM };","test":"import { timeToAMPM } from './index';\n\n\nconsole.log(timeToAMPM(new Date));\n/* 输出： 5:40 pm */\n\nconsole.log(timeToAMPM(new Date('December 2, 2022 03:24:00')));\n/* 输出： 3:24 am */\n\nconsole.log(timeToAMPM(new Date('December 2, 2022 00:12:00')));\n/* 输出： 12:12 am */"}}}},"__N_SSG":true}